<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" width="800" height="600">
	
	<fx:Script>
		<![CDATA[
			import controller.Controller;
			
			import event.UsuarioEvent;
			
			import vo.UserVO;
			protected function fnIngresar(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				
				//CAU(this.parentApplication)['vsVistas'].selectedIndex = 1;
				var auxUsuario:UserVO = new UserVO();
				auxUsuario.username = txtUser.text;
				auxUsuario.password = txtPass.text;
				var usuarioEvent:UsuarioEvent = new UsuarioEvent(UsuarioEvent.LOGIN, auxUsuario, fnIngresaSistema);
				Controller.getInstance().dispatchEvent(usuarioEvent);
			}
			
			private function fnIngresaSistema():void{
				CAU(this.parentApplication)['vsVistas'].selectedIndex = 1;
			}
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	<s:Panel width="357" title="Login" horizontalCenter="0" verticalCenter="0" color="#444444">
		<s:layout>
			<s:VerticalLayout paddingTop="15" paddingLeft="15" paddingBottom="20"/>
		</s:layout>
		
		<s:Label text="User" fontWeight="bold"/>
		<s:TextInput id="txtUser" prompt="Ingrese Username" text="pzambrt"/>
		<s:Label text="Password" fontWeight="bold"/>
		<s:TextInput id="txtPass" displayAsPassword="true" prompt="Ingrese contraseña" text="12345678"/>
		<s:CheckBox id="chkPass" label="Recordar Contraseña"/>
		
		<mx:LinkButton id="btnRegistrar" label="Registrarse"/>
		<s:HGroup>
			<s:Button x="34" y="145" label="Ingresar" click="fnIngresar(event)"/>
			<mx:LinkButton x="146" y="149" label="Recuperar contraseña"/>	
		</s:HGroup>
		
	</s:Panel>
	
</s:Group>
