/*
 * Have this global namespace initialized for all
 * bigote template processing.
 */
var bigote={};

(function(bigote) {

  /* Load template and partials */
  bigote.parse = bigote.load = function(tmpl, partials) {
    var _templates = {};
    _templates['main'] = bigote.parser.parse(tmpl);
    if(partials) {
      for(var p in partials) {
        _templates[p] = bigote.parser.parse(partials[p]);
      }
    }
    return _templates;
  };

  /* connect to the runtime eval */
  bigote.render = bigote.evaluate = function(ast, context) {
    return bigote.runtime.evaluate(ast, context);
  };

})(bigote);

if(typeof exports !== 'undefined') {
  bigote.parser = require('./parser');
  bigote.runtime = require('./runtime');
  module.exports=bigote;
} else {
  window.bigote=bigote;
}
